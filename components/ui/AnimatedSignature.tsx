import React, { useRef } from 'react'
import { motion, useInView } from 'framer-motion';

const AnimatedSignature = () => {
  const ref = useRef(null);
  const isVisible = useInView(ref);

  const draw = {
    hidden: {
      opacity: 0,
      pathLength: 0,
    },
    visible: {
      opacity: 1,
      pathLength: 1,
      transition: {
        pathLength: {
          delay: 0.2,
          type: 'spring',
          duration: 2.5,
          bounce: 0.2,
          ease: 'easeInOut',
        },
        opacity: { duration: 2 },
      },
    },
  };

  return (
    <motion.div>
      <motion.svg initial="hidden" animate={isVisible ? 'visible' : 'initial'} width="190" height="167" viewBox="0 0 190 167" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect width="190" height="167" fill="#1E1E1E"/>
        <path d="M38 60C37.3597 62.1344 30.7596 68.1796 39.4444 62.2222C59.8211 48.2448 81.4887 33.1108 98.3333 14.8889C101.455 11.5116 104.487 7.39275 106.389 3.16666C106.809 2.23342 107.188 0.822179 105.778 2.38888C100.923 7.7832 96.7601 14.2247 92.5556 20.1111C69.1255 52.9131 50.0024 87.6796 30 122.556C23.9483 133.107 17.8013 143.591 11.8889 154.222C10.7683 156.237 7.66502 164.346 4.5 164.833C-3.51379 166.066 10.4099 147.763 10.4444 147.722C33.6082 120.698 67.8461 104.897 100.222 92C127.965 80.9483 157.991 69.9982 188 76" stroke="white" stroke-width="3" stroke-linecap="round"/>
        <motion.path variants={draw} d="M75 93C73.1184 91.3274 72 92.0631 72 94.4444C72 98.5952 77.5026 91.954 78.2222 91.2222C78.8171 90.6173 85.4496 81.7507 81 84.6111C77.6752 86.7485 75.0836 93.014 75 96.7778C74.8096 105.344 84.1099 90.3883 85.7778 91.2222C86.2521 91.4594 91.9317 84.0683 92.8889 83.1111C95.3739 80.6261 97.2909 80 100.778 80C103.957 80 106.537 80.6527 107.778 76.2222C108.796 72.5848 102.304 78.1114 102 78.5C100.487 80.4332 96.9784 84.9239 100.222 87C102.769 88.63 110.634 83.7074 112.778 81.7778C114.156 80.5369 116.926 77.5623 114.778 81C112.855 84.0764 115.821 76.9748 116.611 75.9444C118.925 72.9266 122 67.6311 122 73.7778C122 74.8456 120.275 81.1011 120.056 80.3333C119.321 77.7615 123.222 73.634 125 72.2222C129.865 68.3588 133.593 71.4947 130 76.7778C126.822 81.4514 131.279 76.8165 133 75C134.11 73.8282 140.909 64.8236 142.778 70.2222C143.903 73.4716 142.656 77.9642 140.778 80.6111C132.658 92.0523 117.329 100.975 106 108.778C98.9988 113.6 91.8234 118.143 85 123.222C77.7611 128.611 70.9712 134.879 62.9444 139.111C62.0344 139.591 57.1062 142.288 58.8889 138.722C61.9414 132.617 69.7691 127.671 74.8889 123.556C100.494 102.971 128.933 85.4139 157.833 69.8889C166.093 65.452 174.242 61.2842 183 58" stroke="white" stroke-width="3" stroke-linecap="round"/>
      </motion.svg>

    </motion.div>
  )
}

export default AnimatedSignature